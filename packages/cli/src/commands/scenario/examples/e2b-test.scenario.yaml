name: "E2B File Execution Test"
description: "Verifies the E2BEnvironmentProvider can create files and execute Python/JavaScript code."
environment:
  type: e2b
setup:
  virtual_fs:
    "data.txt": "Hello from the E2B sandbox!"
    "package.json": '{"name": "test", "type": "module"}'
run:
  # Expected: Read file content using Python file operations
  # Output: "Hello from the E2B sandbox!"
  - lang: python
    code: |
      with open('data.txt', 'r') as f:
          content = f.read().strip()
      print(content)
    evaluations: []
  # Expected: Execute JavaScript with Node.js (wrapped in Python subprocess)
  # Output: "Testing E2B environment with JavaScript!"
  - lang: javascript
    code: |
      const message = "Testing E2B environment with JavaScript!";
      console.log(message);
    evaluations: []
  # Expected: Python execution with calculations
  # Output: "Python execution works! 2 + 2 = 4"
  - lang: python
    code: |
      result = 2 + 2
      print(f'Python execution works! 2 + 2 = {result}')
    evaluations: []
judgment:
  strategy: all_pass
